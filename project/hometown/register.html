<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Document</title>
		<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="css/dljm.css">
		<link rel="stylesheet" type="text/css" href="css/register.css" />
	</head>
	<body>
		<div class="container-fluid">
			<div class="mini-header">
				<div class="head_left">
					<ul class="head_bq">
						<li>
							<span class="inco_zz"></span>
							<a href="#">主站</a>
						</li>
						<li>
							<a href="#">番剧</a>
						</li>
						<li>
							<a href="#">游戏中心</a>
						</li>
						<li>
							<a href="#">直播</a>
						</li>
						<li>
							<a href="#">会员购</a>
						</li>
						<li>
							<a href="#">漫画</a>
						</li>
						<li>
							<a href="#">赛事</a>
						</li>
						<li>
							<a href="#">下载APP</a>
						</li>
					</ul>
				</div>
				<div class="ssl">
					<input type="text" placeholder="每日热词">
					<div class="iocn_ssl">
						<button class="ssl_iocn glyphicon glyphicon-search"></button>
					</div>
				</div>
				<div class="head_right">
					<div class="user-con logout">
						<div class="item">
							<div>
								<span class="name">
									<img src="images/akari.jpg">
									登陆
								</span>
							</div>
						</div>
						<div class="item">
							注册
						</div>
						<div class="right_tg">
							<span class="mini-upload">投稿</span>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="banner">
			<div class="headn_banner">
				<img src="images/rl_top.35edfde.png">
			</div>
			<div class="title-line">
				<span class="tit" style="font-size: 38px;">注册</span>
			</div>
			<form>
				<div class="form-group">
					<div class="el-input">
						<input type="text" id="name" name="username" placeholder="昵称" />
						<br>
						<span id="span_name" style="display: none;">用户名只能包含英文，数字，下划线，长度为3~20位</span>
					</div>
				</div>
				<div class="form-group">
					<div class="el-input">
						<input type="password" id="password" name="password" placeholder="密码" />
						<br>
						<span id="span_pwd" style="display: none;">密码只能包含英文，数字，下划线，长度为6位</span>
					</div>
				</div>
				<div class="form-group">
					<div class="el-input">
						<input type="password" id="qpwd" name="qpwd" placeholder="确认密码" />
						<br>
						<span id="span_qpwd" style="display: none;">密码必须一致</span>
					</div>
				</div>
				<div class="form-group">
					<div class="el-input">
						<input type="text" id="phone" name="phone" placeholder="手机号" />
						<br>
						<span id="span_phone" style="display: none;">请确认手机号为11位有效数字</span>
					</div>
				</div>
				<div class="form-group">
					<div class="el-input">
						<input type="text" id="adde" name="adde" placeholder="住址" />
					</div>
				</div>
				<div class="form-group">
					<div class="el-input">
						<input type="text" id="card" name="stuNO" placeholder="身份证" />
						<br>
						<span id="span_card" style="display: none;">请输入18位合法身份证</span>
					</div>
				</div>
				<div class="form-group">
					<div class="btn_cen">
						<input type="button" name="" id="buttonSelect" value="提交" />
					</div>
				</div>
			</form>
		</div>
		</form>
		<div id="wy">
			<div id="wy_1">
				<div id="wy_1_1">
					<p style="color:#ccc;">
						bilibili
					</p>
					<ul>
						<li><a href="">关于我们</a></li>
						<li><a href="">联系我们</a></li>
						<li><a href="">加入我们</a></li>
						<li><a href="">友情链接</a></li>
						<li><a href="">bilibili认证</a></li>
						<li><a href="" style="margin-left: -15px;">Investor Relations</a></li>
					</ul>
				</div>
				<div id="wy_1_2">
					<p style="color:#ccc;">
						传送门
					</p>
					<ul>
						<li><a href="">帮助中心</a></li>
						<li><a href="">高级弹幕</a></li>
						<li><a href="">活动专题页</a></li>
						<li><a href="">侵权申诉</a></li>
						<li><a href="">活动中心</a></li>
						<li><a href="">用户反馈论坛</a></li>
						<li><a href="">壁纸站</a></li>
						<li><a href="" class="yd1">名人堂</a></li>
						<li><a href="" class="yd2">专车号服务中心</a></li>
					</ul>
				</div>
				<div id="wy_1_3">
					<ul>
						<li>
							<a href=""><img src="images/khd.jpg">
								<p>客户端下载</p>
							</a>
						</li>
						<li>
							<a href=""><img src="images/xl.jpg">
								<p>新浪微博</p>
							</a>
						</li>
						<li>
							<a href=""><img src="images/wx.jpg">
								<p>官方微信</p>
							</a>
						</li>
					</ul>
				</div>
			</div>
			<div id="wy_2">
				<div id="wy2_z">
					<img src="images/wy_1.jpg">
				</div>
				<div id="wy2_r">
					<ul>
						<li>
							广播电视节目经营许可证：(沪) 字第1248号 | 网络文化经营许可证：沪文网[2016]2296-134号 | 信息网络传播视听节目许可证：0910417 | 互联网ICP备案：沪ICP备13002172号-3
							沪ICP证：沪B20100043|违法不良信息举报邮箱help@bilibili.com | 违法不良信息举报电话4000233233转3 | 营业执照
						</li>
						<li>
							上海互联网举报中心 | 12138 全国文化市场举报网站 | 沪公网安备 31011002002436号 | 儿童色情信息举报专区
						</li>
						<li>
							网上有害信息举报专区：中国互联网违法和不良信息举报中心
						</li>
						<li>
							亲爱的市民朋友，上海警方反诈劝阻电话“962110”系专门针对避免您财产被骗受损而设，请您一旦收到来电，立即接听。
						</li>
						<li>
							公司名称：上海宽娱数码科技有限公司 | 公司地址：上海市杨浦区政立路485号 | 电话：021-25099888
						</li>
					</ul>
				</div>
			</div>
		</div>
	</body>
	<script src="js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
	<script src="js/bootstrap.min.js" type="text/javascript" charset="utf-8"></script>
	<script type="text/javascript">
		$(function(){
			var flag = false;
			$("#name").blur(function(){
				var username = $("#name").val();
				$.ajax({
					//提交方式
					type:"post",
					//链接地址需要有验证
					url:"repeat.php",
					data:{
						//左边为自定义名称;右边为获取值的名称
						"username":username
					},
					success:function(data) {
						if(data == 1){
							$("#span_name").css("display","block");
							$("#span_name").text("用户名已存在");
							flag=false;
						}else{
							$("#span_name").css("display","none");
							flag = true;
						}
					}
				})
			})

			var usename = /^[A-Za-z_0-9]{3,20}$/;
			var reg_pwd = /^[A-Za-z_0-9]{6}$/;
			var reg_phone = /^1[0-9]{10}$/;
			var reg_card = /^[0-9]{17}[0-9Xx]$/;
			$("#buttonSelect").click(function(){
				var username = $("#name").val();
				var password = $("#password").val();
				var phone = $("#phone").val();
				var cardNo = $("#cardNo").val();
				var adde = $("#adde").val();
				if(!flag){
					return false;
				}
				if (!usename.test($("#name").val())) {
					$("#span_name").css("display", "block");
					return false;
				}else{
					$("#span_name").css("display", "none");
				}
				
				if (!reg_pwd.test($("#password").val())) {
					$("#span_pwd").css("display", "block");
					return false;
				}else{
					$("#span_pwd").css("display", "none");
				}
				
				if ($("#qpwd").val() != $("#password").val()) {
					$("#span_qpwd").css("display", "block");
					return false;
				}else{
					$("#span_qpwd").css("display", "none");
				}
				
				if (!reg_phone.test($("#phone").val())) {
					$("#span_phone").css("display", "block");
					return false;
				} else {
					$("#span_phone").css("display", "none");
				}
				
				if (!reg_card.test($("#card").val())) {
					$("#span_card").css("display", "block");
					return false;
				}else{
					$("#span_card").css("display", "none");
				}

				$.ajax({
					type:"post",
					url:"register.php",
					data:{
						"username":username,
						"password":password,
						"phone":phone,
						"cardNo":cardNo,
						"adde":adde
					},
					success:function(data){
						if (data==1) {
							alert("注册成功");
							window.location.href="dljm.html";
						}else{
							alert("注册失败");
						}
					}
				})
			})
		})
	</script>
</html>
